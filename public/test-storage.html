<!DOCTYPE html>
<html>
<head>
    <title>Test LocalStorage</title>
</head>
<body>
    <h1>Test LocalStorage Collections</h1>
    <button onclick="checkStorage()">Check LocalStorage</button>
    <button onclick="clearStorage()">Clear LocalStorage</button>
    <button onclick="setDefaults()">Set Default Collections</button>
    <pre id="output"></pre>

    <script>
        const COLLECTIONS_KEY = 'alf-collections';

        const defaultCollections = [
          {
            id: 1,
            slug: 'opera-5',
            title: 'OPERA 5',
            description: 'Opere scultoree che esplorano la materia e la forma attraverso l\'arte contemporanea',
            image_url: '/DSCF3759.jpg',
            order_index: 1,
            is_visible: true,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString()
          },
          {
            id: 2,
            slug: 'opera-6',
            title: 'OPERA 6',
            description: 'Opere scultoree che esplorano la materia e la forma attraverso l\'arte contemporanea',
            image_url: '/DSCF9079.jpg',
            order_index: 2,
            is_visible: true,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString()
          },
          {
            id: 3,
            slug: 'opera-7',
            title: 'OPERA 7',
            description: 'Opere scultoree che esplorano la materia e la forma attraverso l\'arte contemporanea',
            image_url: '/DSCF2104.jpg',
            order_index: 3,
            is_visible: true,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString()
          },
          {
            id: 4,
            slug: 'opera-8',
            title: 'OPERA 8',
            description: 'Opere scultoree che esplorano la materia e la forma attraverso l\'arte contemporanea',
            image_url: '/DSCF2012.jpg',
            order_index: 4,
            is_visible: true,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString()
          }
        ];

        function checkStorage() {
            const stored = localStorage.getItem(COLLECTIONS_KEY);
            const exhibitions = localStorage.getItem('alf-exhibitions');
            const critics = localStorage.getItem('alf-critics');

            document.getElementById('output').textContent =
                'Collections:\n' + (stored ? JSON.stringify(JSON.parse(stored), null, 2) : 'NOT FOUND') +
                '\n\nExhibitions:\n' + (exhibitions ? 'FOUND' : 'NOT FOUND') +
                '\n\nCritics:\n' + (critics ? 'FOUND' : 'NOT FOUND');
        }

        function clearStorage() {
            localStorage.removeItem(COLLECTIONS_KEY);
            localStorage.removeItem('alf-exhibitions');
            localStorage.removeItem('alf-critics');
            alert('Storage cleared!');
            checkStorage();
        }

        function setDefaults() {
            localStorage.setItem(COLLECTIONS_KEY, JSON.stringify(defaultCollections));
            alert('Default collections set!');
            checkStorage();
        }

        // Check on load
        window.onload = () => checkStorage();
    </script>
</body>
</html>